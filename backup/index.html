<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      CDC: The Missing Manual | A Deep Dive into Change Data Capture
    </title>
    <meta
      name="description"
      content="Learn why Change Data Capture (CDC) projects fail and how to build scalable, reliable, and production-ready data pipelines. A deep-dive series."
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header class="global-header">
      <div class="nav-container">
        <a href="index.html" class="site-title"
          >CDC: The Missing Manual | A Deep Dive into Change Data Capture</a
        >
        <nav class="nav-links">
          <a href="index.html" class="active">Home</a>
          <a href="overview.html">The Series</a>
        </nav>
      </div>
    </header>

    <main>
      <section class="hero-section">
        <div class="prose">
          <h1>
            Why Change Data Capture Still Breaks, and How To Get It Right.
          </h1>
          <p class="text-xl text-slate-600">
            Your analytics team needs data in real-time. Your business partners
            want to build dashboards, set up alerts, and tailor customer
            experiences on the fly. Change Data Capture (CDC) seems like the
            magic answer, but most implementations fail to deliver on the
            promise. This series is about how to get it right.
          </p>
        </div>
      </section>

      <section class="series-intro">
        <div style="text-align: center">
          <h2 style="font-size: 1.75rem; font-weight: 700; margin-bottom: 1rem">
            A Deep Dive into Production-Ready CDC
          </h2>
          <p
            style="
              font-size: 1.125rem;
              color: var(--text-secondary);
              max-width: 65ch;
              margin: 0 auto 1.5rem;
            "
          >
            The first event is easy. Scaling to millions of events with
            unshakable reliability is the real challenge. This series moves
            beyond the basics to cover the advanced, real-world patterns
            required for success.
          </p>
        </div>
      </section>

      <article class="prose">
        <h2>The Core Problem</h2>
        <p>
          We've advanced from overnight batch jobs to log-based CDC, which
          promises real-time data with no load on source systems. Yet, reality
          frequently doesn’t measure up. The challenge isn't capturing an event;
          it's building a system that is scalable, reliable, fault-tolerant, and
          observable under pressure.
        </p>

        <h2>Our Blueprint for Production CDC</h2>
        <p>
          In this deep-dive series, we’re building a blueprint for
          production-ready CDC. This is a living series, organized around the
          core challenges you'll face. We'll be adding new modules over time to
          create the most comprehensive guide available.
        </p>

        <h3>Foundations of Trust & Scale</h3>
        <ul>
          <li>
            <strong
              >Understanding Delviery Guarantees and Exactly-Once
              Semantics:</strong
            >
            How to build unshakeable trust in your data pipeline.
          </li>
          <li>
            <strong>Multi-Tenant Architectures:</strong> Designing for massive
            scale and workload isolation.
          </li>
        </ul>

        <h3>Performance and Reliability</h3>
        <ul>
          <li>
            <strong>Advanced Partitioning Strategies:</strong> The key to
            unlocking massive throughput. <em>(Coming Soon)</em>
          </li>
          <li>
            <strong>Automated Auditing and Reconciliation:</strong> How to prove
            your pipeline is working perfectly. <em>(Coming Soon)</em>
          </li>
        </ul>

        <h3>Operational Excellence</h3>
        <ul>
          <li>
            <strong>Monitoring & Alerting:</strong> End-to-end observability for
            your pipelines. <em>(Coming Soon)</em>
          </li>
          <li>
            <strong>Error Handling & Recovery Patterns:</strong> What to do when
            things inevitably break. <em>(Coming Soon)</em>
          </li>
        </ul>

        <h3>Advanced Patterns & Data Governance</h3>
        <ul>
          <li>
            <strong>Mastering Schema Evolution:</strong> Handling schema changes
            without downtime. <em>(Coming Soon)</em>
          </li>
          <li>
            <strong>The Initial Snapshot Problem:</strong> Strategies for
            seamless backfills. <em>(Coming Soon)</em>
          </li>
        </ul>
        <p>
          Ready to build data pipelines you can trust? Dive in to see how these
          pieces fit together.
        </p>
        <a
          href="overview.html"
          style="
            display: inline-block;
            background-color: var(--accent-primary);
            color: white;
            font-weight: 600;
            padding: 0.75rem 2rem;
            border-radius: 0.5rem;
            text-decoration: none;
            transition: background-color 0.2s;
          "
        >
          Dive Into The Series &rarr;
        </a>
      </article>
    </main>

    <footer class="site-footer">
      <p>
        &copy; 2025 Christopher Ennis. A deep dive into the world of Change Data
        Capture.
      </p>
    </footer>
    <!-- Add near the end of <body> on all pages -->
    <script type="module">
      // --- Dark mode toggle ---
      const apply = (m) => (document.documentElement.dataset.theme = m);
      const saved = localStorage.getItem("theme");
      const prefersDark = matchMedia("(prefers-color-scheme: dark)").matches;
      apply(saved ?? (prefersDark ? "dark" : "light"));
      document.addEventListener("click", (e) => {
        if (e.target.matches("[data-toggle-theme]")) {
          const next =
            document.documentElement.dataset.theme === "dark"
              ? "light"
              : "dark";
          apply(next);
          localStorage.setItem("theme", next);
        }
      });

      // --- Reduced motion guard for animations ---
      const reduceMotion = matchMedia(
        "(prefers-reduced-motion: reduce)"
      ).matches;
      if (reduceMotion) document.documentElement.classList.add("reduce-motion");

      // --- Copy buttons for code ---
      document.querySelectorAll("pre > code").forEach((code) => {
        const btn = Object.assign(document.createElement("button"), {
          textContent: "Copy",
          className: "copy-btn",
        });
        const pre = code.parentElement;
        pre.style.position = "relative";
        pre.appendChild(btn);
        btn.addEventListener("click", async () => {
          await navigator.clipboard.writeText(code.innerText);
          btn.textContent = "Copied!";
          setTimeout(() => (btn.textContent = "Copy"), 1200);
        });
      });

      // --- Heading anchors ---
      document.querySelectorAll(".prose h2, .prose h3").forEach((h) => {
        const id =
          h.id ||
          h.textContent
            .toLowerCase()
            .trim()
            .replace(/[^a-z0-9]+/g, "-");
        h.id = id;
        const a = Object.assign(document.createElement("a"), {
          href: `#${id}`,
          className: "anchor",
          ariaLabel: "Link to section",
        });
        h.appendChild(a);
      });

      // --- Lightweight search (builds an index from links + headings) ---
      const pages = [
        "index.html",
        "overview.html",
        "exactly-once.html",
        "multi-tenancy.html",
      ];
      async function buildIndex() {
        const docs = await Promise.all(
          pages.map((p) =>
            fetch(p, { credentials: "omit" })
              .then((r) => r.text())
              .then((html) => ({ p, html }))
          )
        );
        return docs.map(({ p, html }) => {
          const tmp = document.createElement("div");
          tmp.innerHTML = html;
          const title = (tmp.querySelector("title")?.textContent || "").trim();
          const text = Array.from(
            tmp.querySelectorAll(
              ".prose p, .prose li, .prose h1, .prose h2, .prose h3"
            )
          )
            .map((n) => n.textContent.trim())
            .join(" ");
          return { p, title, text: text.slice(0, 50000) }; // cap to keep it snappy
        });
      }
      const searchBox = document.querySelector("#site-search");
      const resultsBox = document.querySelector("#search-results");
      if (searchBox && resultsBox) {
        const index = await buildIndex();
        searchBox.addEventListener("input", (e) => {
          const q = e.target.value.trim().toLowerCase();
          resultsBox.innerHTML = "";
          if (!q) return;
          const hits = index
            .map((d) => {
              const i = d.text.toLowerCase().indexOf(q);
              const ctx =
                i > 40 ? d.text.slice(i - 40, i + 160) : d.text.slice(0, 200);
              return { score: i === -1 ? Infinity : i, d, ctx };
            })
            .filter((h) => h.score !== Infinity)
            .sort((a, b) => a.score - b.score)
            .slice(0, 6);
          hits.forEach(({ d, ctx }) => {
            const li = document.createElement("li");
            li.innerHTML = `<a href="${d.p}">${
              d.title || d.p
            }</a><div class="hit">${ctx.replaceAll(
              q,
              `<mark>${q}</mark>`
            )}</div>`;
            resultsBox.appendChild(li);
          });
        });
      }
    </script>
  </body>
</html>
