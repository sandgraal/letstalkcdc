:root {
  --bg:#111; --text:#0f0; --accent:#00ff88; --grid:#044; --font:'Courier New',monospace;
}
body {background:var(--bg);color:var(--text);font-family:var(--font);}
body.modern {--bg:#fafafa;--text:#111;--accent:#007bff;--grid:#ccc;--font:'Inter',sans-serif;}

/* Stats chip + counter + tooltip */
.stats-wrapper{position:fixed;bottom:1.5rem;right:1.5rem;z-index:999;}
.stats-chip{width:42px;height:42px;border-radius:50%;background:var(--accent);color:#000;font-size:1.3rem;
display:flex;align-items:center;justify-content:center;box-shadow:0 0 15px var(--accent);cursor:pointer;
transition:transform .2s ease,box-shadow .2s ease;animation:statsPulse 3s ease-in-out infinite;}
.stats-chip:hover{transform:scale(1.1);}
@keyframes statsPulse{0%,100%{box-shadow:0 0 10px var(--accent)}50%{box-shadow:0 0 22px var(--accent)}}
.stats-counter{position:absolute;top:-6px;right:-6px;background:var(--accent);color:#000;font-size:.7rem;
font-weight:bold;padding:2px 6px;border-radius:10px;box-shadow:0 0 8px var(--accent);}
.stats-counter.updated{animation:counterPulse .3s ease;}
@keyframes counterPulse{0%{transform:scale(1)}50%{transform:scale(1.2)}100%{transform:scale(1)}}
.filter-tooltip{position:absolute;bottom:60px;right:0;background:var(--accent);color:#000;font-size:.8rem;
padding:4px 8px;border-radius:4px;box-shadow:0 0 12px var(--accent);opacity:0;transform:translateY(10px);
transition:opacity .3s ease,transform .3s ease;}
.filter-tooltip.visible{opacity:1;transform:translateY(0);}

/* Console, footer, legend, etc. */
.agent-console{width:90%;max-width:800px;height:140px;margin:1rem auto;padding:.6rem;border:1px solid var(--accent);
background:rgba(0,0,0,.4);overflow-y:auto;border-radius:6px;box-shadow:0 0 12px var(--accent);font-size:.8rem;}
.agent-line{animation:fadeInLog .3s ease;}
@keyframes fadeInLog{from{opacity:0;transform:translateY(4px)}to{opacity:1;transform:none}}
.legend-dot{width:14px;height:14px;border-radius:50%;background:var(--accent);box-shadow:0 0 6px var(--accent);}
.footer-pill{border:1px solid var(--accent);border-radius:20px;padding:.4rem 1rem;box-shadow:0 0 10px var(--accent);}
.footer-pill.updated{animation:pulse .6s ease;}
@keyframes pulse{0%{box-shadow:0 0 20px var(--accent)}50%{opacity:.7}100%{box-shadow:0 0 20px var(--accent)}}

/* Modal + Export */
.session-modal{position:fixed;inset:0;background:rgba(0,0,0,.85);display:flex;align-items:center;justify-content:center;z-index:9999;opacity:0;pointer-events:none;transition:opacity .3s;}
.session-modal:not(.hidden){opacity:1;pointer-events:auto;}
.modal-content{background:var(--bg);color:var(--text);border:1px solid var(--accent);padding:1.5rem 2rem;
border-radius:8px;width:90%;max-width:700px;box-shadow:0 0 25px var(--accent);}
.export-controls button{border:1px solid var(--accent);background:none;color:var(--text);padding:.4rem 1rem;border-radius:4px;}
.export-controls button:hover{background:var(--accent);color:#000;}
